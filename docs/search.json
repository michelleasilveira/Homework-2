[
  {
    "objectID": "Programming in Base R.html",
    "href": "Programming in Base R.html",
    "title": "Programming in Base R",
    "section": "",
    "text": "# 1) Vectors\npre_treat   &lt;- c(120,151,125,126,115,132,132,129,134,139,\n                 127,122,127,135,133,128,147,138,140,132)\nafter_treat &lt;- c(127,145,135,122,115,122,123,126,126,129,\n                 132,146,120,114,121,120,128,120,133,115)\n\n# 2) Assign subject names\nsubj_names &lt;- paste(\"Subject\", 1:20, sep = \"_\")\nnames(pre_treat)   &lt;- subj_names\nnames(after_treat) &lt;- subj_names\n\n# 3) Change in BP\nchange_bp &lt;- pre_treat - after_treat\n\n# 4) Average decrease across all patients\navg_decrease_bp &lt;- mean(change_bp)\n\n# 5) Patients who decreased\npatients_decrease &lt;- which(change_bp &gt; 0)\n\n# 6) Positive changes only\npos_changes &lt;- change_bp[change_bp &gt; 0]\n\n# 7) Average decrease among those who improved\navg_decrease_pos &lt;- mean(pos_changes)\n\n# Print results\ncat(\"Average decrease (all patients):\", avg_decrease_bp, \"\\n\\n\")\n\nAverage decrease (all patients): 5.65 \n\ncat(\"Patients with decreased BP:\\n\")\n\nPatients with decreased BP:\n\nprint(names(change_bp)[patients_decrease])\n\n [1] \"Subject_2\"  \"Subject_4\"  \"Subject_6\"  \"Subject_7\"  \"Subject_8\" \n [6] \"Subject_9\"  \"Subject_10\" \"Subject_13\" \"Subject_14\" \"Subject_15\"\n[11] \"Subject_16\" \"Subject_17\" \"Subject_18\" \"Subject_19\" \"Subject_20\"\n\ncat(\"\\nAverage decrease among improved patients:\", avg_decrease_pos, \"\\n\")\n\n\nAverage decrease among improved patients: 10.6 \n\n\n\n## Task 2: Basic Data Frame practice\n# 1) Build data frame\nbp_df &lt;- data.frame(\n  patient = names(pre_treat),\n  pre_bp  = pre_treat,\n  post_bp = after_treat,\n  diff_bp = pre_treat - after_treat\n)\n\n# 2) Rows with negative difference\nbp_df_neg &lt;- bp_df[bp_df$diff_bp &lt; 0, ]\n\n# 3) Add flag for post-treatment BP &lt; 120\nbp_df$below_120 &lt;- bp_df$post_bp &lt; 120\n\n# 4) Nicely print the table\nknitr::kable(bp_df, caption = \"Blood Pressure Summary (Treatment Group)\")\n\n\nBlood Pressure Summary (Treatment Group)\n\n\n\npatient\npre_bp\npost_bp\ndiff_bp\nbelow_120\n\n\n\n\nSubject_1\nSubject_1\n120\n127\n-7\nFALSE\n\n\nSubject_2\nSubject_2\n151\n145\n6\nFALSE\n\n\nSubject_3\nSubject_3\n125\n135\n-10\nFALSE\n\n\nSubject_4\nSubject_4\n126\n122\n4\nFALSE\n\n\nSubject_5\nSubject_5\n115\n115\n0\nTRUE\n\n\nSubject_6\nSubject_6\n132\n122\n10\nFALSE\n\n\nSubject_7\nSubject_7\n132\n123\n9\nFALSE\n\n\nSubject_8\nSubject_8\n129\n126\n3\nFALSE\n\n\nSubject_9\nSubject_9\n134\n126\n8\nFALSE\n\n\nSubject_10\nSubject_10\n139\n129\n10\nFALSE\n\n\nSubject_11\nSubject_11\n127\n132\n-5\nFALSE\n\n\nSubject_12\nSubject_12\n122\n146\n-24\nFALSE\n\n\nSubject_13\nSubject_13\n127\n120\n7\nFALSE\n\n\nSubject_14\nSubject_14\n135\n114\n21\nTRUE\n\n\nSubject_15\nSubject_15\n133\n121\n12\nFALSE\n\n\nSubject_16\nSubject_16\n128\n120\n8\nFALSE\n\n\nSubject_17\nSubject_17\n147\n128\n19\nFALSE\n\n\nSubject_18\nSubject_18\n138\n120\n18\nFALSE\n\n\nSubject_19\nSubject_19\n140\n133\n7\nFALSE\n\n\nSubject_20\nSubject_20\n132\n115\n17\nTRUE\n\n\n\n\n\n\n## Task 3: List practice\n\n# Placebo data\npre_placebo   &lt;- c(138,135,147,117,152,134,114,121,131,130)\nafter_placebo &lt;- c(105,136,123,130,134,143,135,139,120,124)\n\n# 1) Create data frame\nsubj_names_pbo &lt;- paste(\"Subject\", 1:10, sep = \"_\")\nnames(pre_placebo)   &lt;- subj_names_pbo\nnames(after_placebo) &lt;- subj_names_pbo\n\nplacebo_df &lt;- data.frame(\n  patient = names(pre_placebo),\n  pre_bp  = pre_placebo,\n  post_bp = after_placebo,\n  diff_bp = pre_placebo - after_placebo\n)\nplacebo_df$below_120 &lt;- placebo_df$post_bp &lt; 120\n\n# 2) Create list with treatment + placebo\nbp_list &lt;- list(\n  treatment = bp_df,\n  placebo   = placebo_df\n)\n\n# 3) Access first element three ways\nfirst_elem_a &lt;- bp_list[1]        # list of length 1\nfirst_elem_b &lt;- bp_list[[1]]      # data frame\nfirst_elem_c &lt;- bp_list$treatment # data frame\n\n# 4) Extract pre_bp of placebo\npre_bp_placebo &lt;- bp_list$placebo$pre_bp\n\n# Print confirmations\ncat(\"Placebo data frame preview:\\n\")\n\nPlacebo data frame preview:\n\nprint(head(placebo_df, 5))\n\n            patient pre_bp post_bp diff_bp below_120\nSubject_1 Subject_1    138     105      33      TRUE\nSubject_2 Subject_2    135     136      -1     FALSE\nSubject_3 Subject_3    147     123      24     FALSE\nSubject_4 Subject_4    117     130     -13     FALSE\nSubject_5 Subject_5    152     134      18     FALSE\n\ncat(\"\\nClass of first_elem_a:\", class(first_elem_a), \"\\n\")\n\n\nClass of first_elem_a: list \n\ncat(\"Class of first_elem_b:\", class(first_elem_b), \"\\n\")\n\nClass of first_elem_b: data.frame \n\ncat(\"Class of first_elem_c:\", class(first_elem_c), \"\\n\")\n\nClass of first_elem_c: data.frame \n\ncat(\"\\nFirst five placebo pre_bp values:\\n\")\n\n\nFirst five placebo pre_bp values:\n\nprint(head(pre_bp_placebo, 5))\n\n[1] 138 135 147 117 152"
  }
]